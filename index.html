<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pet Leveling Hilfe</title>
  <style>
    :root {
      --bg: #0f0f0f;
      --card: #1a1a1a;
      --text: #ffffff;
      --muted: #aaaaaa;
      --accent: #ffffff;
      --border: rgba(255,255,255,0.08);
      --shadow: 0 10px 30px rgba(0,0,0,0.35);
    }
    * { box-sizing: border-box; margin:0; padding:0; }
    html, body { height: 100%; font-family: sans-serif; overflow: hidden; }
    body { background: var(--bg); color: var(--text); display: flex; flex-direction: column; align-items:center; justify-content: center; }
    canvas#netCanvas { position: absolute; top:0; left:0; width:100%; height:100%; z-index:0; }

    .card {
      width: 100%; max-width: 520px; padding: 28px; background: var(--card); border-radius: 18px;
      border: 1px solid var(--border); box-shadow: var(--shadow); backdrop-filter: blur(6px);
      transform-style: preserve-3d; transition: transform 0.1s ease-out;
      position: relative; z-index: 1;
    }

    h1 { text-align: center; font-size: 32px; margin-bottom: 12px; }
    label { display:block; font-size:13px; margin-top:10px; color: var(--muted); }
    input, textarea {
      width: 100%; padding:10px; margin-top:4px; border-radius:10px; border:1px solid var(--border);
      background: transparent; color: var(--text); font-size:14px; outline:none;
    }
    .row { display: flex; gap:10px; }
    .row input { flex:1; }
    .btn {
      margin-top:15px; padding:12px; width:100%; border:none; border-radius:12px;
      background: var(--accent); color: var(--card); font-weight:700; cursor:pointer;
    }
    .status { text-align:center; margin-top:10px; font-size:14px; color: var(--muted); }
    
    /* Music Player Card */
    .music-card {
      width: 100%; max-width: 520px; padding: 18px; background: var(--card); border-radius: 18px;
      border: 1px solid var(--border); box-shadow: var(--shadow); backdrop-filter: blur(6px);
      margin-top:20px; transform-style: preserve-3d; transition: transform 0.1s ease-out; position: relative; z-index:1;
      display: flex; align-items: center; gap:10px;
    }
    .music-card img { width:60px; height:60px; border-radius:10px; object-fit:cover; }
    .controls { flex:1; display:flex; flex-direction: column; gap:5px; }
    .controls button { background: var(--accent); color: var(--card); border:none; padding:5px 8px; border-radius:6px; cursor:pointer; }
    .slider { width:100%; }
  </style>
</head>
<body>
<canvas id="netCanvas"></canvas>

<main class="card" id="formCard">
  <h1>Pet Leveling Hilfe</h1>
  <form id="levelForm" autocomplete="on">
    <label for="roblox">Roblox Nutzername</label>
    <input id="roblox" name="roblox" type="text" placeholder="..." required />
    <label for="discord">Discord Nutzername</label>
    <input id="discord" name="discord" type="text" placeholder="..." required />
    <label for="petWanted">Welches pet soll gelevelt werden?</label>
    <input id="petWanted" name="petWanted" type="text" placeholder="..." required />
    <div class="row">
      <div>
        <label for="petCurrent">Momentanes Level</label>
        <input id="petCurrent" name="petCurrent" type="text" placeholder="..." required />
      </div>
      <div>
        <label for="targetLevel">Ziel Level</label>
        <input id="targetLevel" name="targetLevel" type="text" placeholder="..." required />
      </div>
    </div>
    <label for="offer">Was zahlst du? Was gibst du uns dafür?</label>
    <input id="offer" name="offer" type="text" placeholder="..." required />
    <button id="sendBtn" class="btn" type="submit">Anfrage stellen</button>
    <div id="status" class="status"></div>
  </form>
</main>

<main class="music-card" id="musicCard">
  <img id="cover" src="images/song1.jpg" alt="Cover">
  <div class="controls">
    <input type="range" id="slider" class="slider" min="0" max="100" value="0">
    <div>
      <button id="playBtn">Play</button>
      <button id="muteBtn">Mute</button>
    </div>
  </div>
</main>

<script>
  // ---- Form Webhook ----
  const WEBHOOK_URL = ""; // Hier Discord Webhook einfügen
  const form = document.getElementById('levelForm');
  const btn = document.getElementById('sendBtn');
  const statusEl = document.getElementById('status');

  form.addEventListener('submit', async e => {
    e.preventDefault();
    btn.disabled = true;
    statusEl.textContent = "Sende…";
    try {
      const payload = {
        content: `Neue Anfrage:\nRoblox: ${form.roblox.value}\nDiscord: ${form.discord.value}\nPet: ${form.petWanted.value}\nAktuell: ${form.petCurrent.value}\nZiel: ${form.targetLevel.value}\nGegenleistung: ${form.offer.value}`
      };
      const res = await fetch(WEBHOOK_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(payload)});
      if(res.ok){statusEl.textContent="Erfolgreich gesendet! ✅";form.reset();}
      else{statusEl.textContent="Fehler beim Senden";}
    } catch(err){statusEl.textContent="Fehler beim Senden";}
    btn.disabled = false;
  });

  // ---- Card Neigung ----
  function tiltCard(card, e) {
    const rect = card.getBoundingClientRect();
    const x = (e.clientX - rect.left - rect.width/2) / (rect.width/2);
    const y = (e.clientY - rect.top - rect.height/2) / (rect.height/2);
    
    const tiltX = -y * 15;
    const tiltY = x * 15;
    
    card.style.transform = `rotateX(${tiltX}deg) rotateY(${tiltY}deg)`;
  }

  document.addEventListener('mousemove', e => {
    tiltCard(document.getElementById('formCard'), e);
    tiltCard(document.getElementById('musicCard'), e);
  });

  document.addEventListener('mouseout', () => {
    const cards = [document.getElementById('formCard'), document.getElementById('musicCard')];
    cards.forEach(card => {
      card.style.transform = 'rotateX(0deg) rotateY(0deg)';
    });
  });

  // ---- Netz + Partikel ----
  const canvas = document.getElementById('netCanvas');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth; canvas.height = window.innerHeight;
  const particles = [];
  for(let i=0;i<120;i++){
    particles.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*2+1,vx:(Math.random()-0.5)*0.3,vy:(Math.random()-0.5)*0.3});
  }
  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    // Linien
    for(let i=0;i<particles.length;i++){
      for(let j=i+1;j<particles.length;j++){
        const dx = particles[i].x - particles[j].x;
        const dy = particles[i].y - particles[j].y;
        const dist = Math.sqrt(dx*dx+dy*dy);
        if(dist<100){
          ctx.strokeStyle = 'rgba(255,255,255,'+(1-dist/100)+')';
          ctx.beginPath();ctx.moveTo(particles[i].x,particles[i].y);ctx.lineTo(particles[j].x,particles[j].y);ctx.stroke();
        }
      }
    }
    // Partikel
    for(let p of particles){
      p.x += p.vx; p.y += p.vy;
      if(p.x<0||p.x>canvas.width)p.vx*=-1;
      if(p.y<0||p.y>canvas.height)p.vy*=-1;
      ctx.fillStyle='white';
      ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill();
    }
    requestAnimationFrame(draw);
  }
  draw();
  window.addEventListener('resize',()=>{canvas.width=window.innerWidth; canvas.height=window.innerHeight;});
